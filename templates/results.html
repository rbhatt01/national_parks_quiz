{{define "title"}}You're {{.Result.Park.Name}}! ğŸ•ï¸{{end}}

{{define "content"}}
<div class="max-w-4xl mx-auto py-8">
    <!-- Result Header -->
    <div class="text-center mb-10">
        <h1 class="text-5xl md:text-6xl font-extrabold text-gray-900 mb-4 leading-tight">
            You're... ğŸ¥
        </h1>
        <p class="text-2xl md:text-3xl text-gray-700 font-bold">{{.Result.Park.Name}}!</p>
    </div>

    <!-- Park Card -->
    <div class="bg-white rounded-3xl shadow-2xl overflow-hidden mb-10 transform hover:scale-102 transition-transform duration-300">
        <!-- Park Image -->
        {{if .Result.Park.ImageURL}}
        <div class="w-full h-72 md:h-96 overflow-hidden">
            <img src="{{.Result.Park.ImageURL}}"
                 alt="{{.Result.Park.Name}}"
                 class="w-full h-full object-cover">
        </div>
        {{end}}

        <!-- Park Name Banner -->
        <div class="bg-gradient-to-r from-park-600 to-park-700 text-white px-8 py-8">
            <h2 class="text-4xl md:text-5xl font-extrabold mb-3">{{.Result.Park.Name}} ğŸŒ²</h2>
            <p class="text-park-100 text-xl font-medium">ğŸ“ {{.Result.Park.State}}</p>
        </div>

        <!-- Park Details -->
        <div class="p-8 md:p-10">
            <!-- Park Description -->
            {{if .Result.Park.Description}}
            <div class="mb-8 p-6 bg-gradient-to-r from-park-50 to-emerald-50 rounded-2xl border-2 border-park-200">
                <p class="text-xl md:text-2xl text-gray-800 leading-relaxed font-medium">
                    {{.Result.Park.Description}}
                </p>
            </div>
            {{end}}

            <!-- Primary Group Badge -->
            <div class="mb-8">
                <span class="inline-block bg-park-100 text-park-800 px-5 py-3 rounded-full text-base font-bold">
                    âœ¨ {{.Result.Park.PrimaryGroup}}
                </span>
                {{range .Result.Park.SecondaryGroups}}
                <span class="inline-block bg-gray-100 text-gray-700 px-5 py-3 rounded-full text-base font-bold ml-2 mt-2">
                    {{.}}
                </span>
                {{end}}
            </div>

            <!-- Tags -->
            {{if .Result.Park.Tags}}
            <div class="mb-8">
                <h3 class="text-2xl font-bold text-gray-900 mb-4">Your Park Vibes âœ¨</h3>
                <div class="flex flex-wrap gap-3">
                    {{range .Result.Park.Tags}}
                    <span class="bg-teal-100 text-teal-800 px-4 py-2 rounded-full text-base font-semibold">
                        #{{.}}
                    </span>
                    {{end}}
                </div>
            </div>
            {{end}}

            <!-- Trait Comparison (Optional Visual) -->
            <div class="mb-8">
                <h3 class="text-2xl font-bold text-gray-900 mb-5">ğŸ“Š Your Personality Profile</h3>
                <div class="space-y-4">
                    {{range $trait, $value := .Result.Park.Traits}}
                    <div>
                        <div class="flex justify-between text-base mb-2">
                            <span class="text-gray-700 capitalize font-semibold">{{$trait}}</span>
                            <span class="text-gray-600 font-bold">{{printf "%.0f" (mult $value 100)}}%</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-3 shadow-inner">
                            <div class="bg-gradient-to-r from-park-500 to-park-600 h-3 rounded-full shadow-sm transition-all duration-500" style="width: {{mult $value 100}}%"></div>
                        </div>
                    </div>
                    {{end}}
                </div>
            </div>

            <!-- Actions -->
            <div class="flex flex-col sm:flex-row gap-4 mt-10">
                <a href="/"
                   class="flex-1 text-center bg-gradient-to-r from-park-600 to-park-700 hover:from-park-700 hover:to-park-800 text-white font-bold text-lg py-4 px-8 rounded-2xl transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl">
                    Take Again ğŸ”„
                </a>
                <button onclick="shareResults()"
                        class="flex-1 border-3 border-park-600 text-park-600 hover:bg-park-50 font-bold text-lg py-4 px-8 rounded-2xl transition-all duration-300 transform hover:scale-105">
                    Share Results ğŸ“¤
                </button>
            </div>
        </div>
    </div>

    <!-- Learn More -->
    <div class="text-center text-gray-700">
        <p class="mb-3 text-lg font-medium">Ready to visit {{.Result.Park.Name}}? ğŸš—</p>
        <a href="https://www.nps.gov/findapark/index.htm"
           target="_blank"
           rel="noopener noreferrer"
           class="inline-block text-park-600 hover:text-park-700 font-bold text-lg underline hover:scale-105 transform transition-transform">
            Plan Your Trip on NPS.gov â†’
        </a>
    </div>
</div>

<script>
function shareResults() {
    const text = "I'm {{.Result.Park.Name}}! ğŸŒ² Which national park are you? Take the quiz:";
    const url = window.location.origin;

    if (navigator.share) {
        navigator.share({
            title: 'My National Park Match',
            text: text,
            url: url
        }).catch(err => console.log('Error sharing:', err));
    } else {
        // Fallback: copy to clipboard
        navigator.clipboard.writeText(text + ' ' + url).then(() => {
            alert('âœ… Link copied to clipboard!');
        });
    }
}
</script>
{{end}}
